% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/draw_pca.R
\name{draw_pca}
\alias{draw_pca}
\title{Draw PCA Plot with Density and Box Plots}
\usage{
draw_pca(
  df,
  var_names = NULL,
  Group,
  group_labels = NULL,
  colors = NULL,
  x_limits = NULL,
  y_limits = NULL,
  show_stats = TRUE,
  point_size = 3,
  top_n_vars = 5
)
}
\arguments{
\item{df}{A data frame containing the variables for PCA analysis}

\item{var_names}{Optional character vector specifying the names of variables to be used in PCA.
If NULL, all numeric columns except 'Group' and 'SampleID' will be used.}

\item{Group}{A character vector specifying the levels of groups}

\item{group_labels}{Optional character vector for custom group labels}

\item{colors}{Optional vector of colors for groups}

\item{x_limits}{Optional numeric vector of length 2 specifying x-axis limits}

\item{y_limits}{Optional numeric vector of length 2 specifying y-axis limits}

\item{show_stats}{Logical, whether to show PERMANOVA results (default: TRUE)}

\item{point_size}{Numeric, size of points in the plot (default: 3)}

\item{top_n_vars}{Numeric, number of top contributing variables to show (default: 5, 0 for no variables)}
}
\value{
A ggplot object containing the combined PCA plot
}
\description{
This function creates a comprehensive PCA plot with density distributions and box plots
for visualizing group differences in multivariate data.
}
\examples{
\dontrun{
# Create example data
set.seed(123)
df_example <- data.frame(
  SampleID = paste0("Sample_", sprintf("\%03d", 1:75)),
  Group = rep(c("G1", "G2", "G3", "G4", "G5"), each = 15),
  DOC = c(
    rnorm(15, 100, 15), rnorm(15, 90, 15), rnorm(15, 110, 15),
    rnorm(15, 95, 15), rnorm(15, 105, 15)
  ),
  MBC = c(
    rnorm(15, 200, 30), rnorm(15, 180, 30), rnorm(15, 220, 30),
    rnorm(15, 190, 30), rnorm(15, 210, 30)
  ),
  TDN = c(
    rnorm(15, 25, 4), rnorm(15, 23, 4), rnorm(15, 27, 4),
    rnorm(15, 24, 4), rnorm(15, 26, 4)
  )
)

# Example 1: Using all default parameters with automatic variable selection
pca_plot1 <- draw_pca(
  df = df_example,
  Group = c("G1", "G2", "G3", "G4", "G5")
)

# Example 2: Using all parameters with custom settings
pca_plot2 <- draw_pca(
  df = df_example,
  var_names = c("DOC", "MBC", "TDN"),  # Manually specify variables
  Group = c("G1", "G2", "G3", "G4", "G5"),
  group_labels = c("Control", "Treatment 1", "Treatment 2", "Treatment 3", "Treatment 4"),
  colors = c("#1F77B4", "#FF7F0E", "#2CA02C", "#D62728", "#9467BD"),
  x_limits = c(-2, 2),
  y_limits = c(-2, 2),
  show_stats = TRUE,
  point_size = 3,
  top_n_vars = 5
)

# Save plot
ggsave("PCA_plot.png", pca_plot2, width = 6, height = 6, limitsize = FALSE)
}
}
